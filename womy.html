<script>document.write(decodeURIComponent(escape(atob("PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgPG1ldGEgY2hhcnNldD0idXRmLTgiPgogIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSI+CiAgPHRpdGxlPkB3b215PC90aXRsZT4KCiAgPGxpbmsgcmVsPSJpY29uIiB0eXBlPSJwbmciIGhyZWY9Imh0dHBzOi8vZmlsZS5nYXJkZW4vYVJIWHo4RV9UZ2xIVDk1Yy9wcmltby5wbmciPgoKICA8c3R5bGU+CiAgICA6cm9vdCB7CiAgICAgIC0tYmc6IHVybCgnaHR0cHM6Ly9pLmltZ3VyLmNvbS8zQWxiWG10LmdpZicpOwogICAgICAtLXBmcDogdXJsKCdodHRwczovL2ZpbGUuZ2FyZGVuL2FSSFh6OEVfVGdsSFQ5NWMvcHJpbW8ucG5nJyk7CiAgICAgIC0tc2NhbGU6IDEuMjU7CiAgICAgIC0tYmx1cjogY2FsYygxMnB4ICogdmFyKC0tc2NhbGUpKTsKICAgICAgLS10ZXh0OiAjZmZmZmZmOwogICAgICAtLW9ubGluZTogIzQzYjU4MTsKICAgICAgLS1pZGxlOiAjZmFhNjFhOwogICAgICAtLWRuZDogI2YwNDc0NzsKICAgICAgLS1vZmZsaW5lOiAjNzQ3ZjhkOwogICAgICAtLXNwb3RpZnk6ICMxZGI5NTQ7CiAgICB9CgogICAgLmxpZ2h0LXRoZW1lIHsKICAgICAgLS1iZzogI2YwZjBmMDsKICAgICAgLS10ZXh0OiAjMzMzMzMzOwogICAgfQoKICAgIGh0bWwsIGJvZHkgeyAKICAgICAgaGVpZ2h0OiAxMDAlOyAKICAgICAgc2Nyb2xsLWJlaGF2aW9yOiBzbW9vdGg7CiAgICB9CiAgICAKICAgIGJvZHkgeyAKICAgICAgbWFyZ2luOiAwOyAKICAgICAgZm9udC1mYW1pbHk6IEludGVyLCBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sIFNlZ29lIFVJLCBSb2JvdG8sIEhlbHZldGljYSwgQXJpYWw7IAogICAgICBjb2xvcjogdmFyKC0tdGV4dCk7IAogICAgICBiYWNrZ3JvdW5kOiAjMDAwOyAKICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2U7CiAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICB9CgogICAgI3N0YXJ0U2NyZWVuIHsKICAgICAgcG9zaXRpb246IGZpeGVkOwogICAgICBpbnNldDogMDsKICAgICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjg4KTsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIHotaW5kZXg6IDk5OTk7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAuNnMgZWFzZTsKICAgIH0KICAgICNzdGFydFNjcmVlbi5oaWRkZW4gewogICAgICBvcGFjaXR5OiAwOwogICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgIH0KICAgIC5zdGFydFRleHQgewogICAgICBmb250LXNpemU6IDMycHg7CiAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgIGxldHRlci1zcGFjaW5nOiAycHg7CiAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgYW5pbWF0aW9uOiBwdWxzZSAxLjhzIGluZmluaXRlIGVhc2UtaW4tb3V0OwogICAgfQogICAgQGtleWZyYW1lcyBwdWxzZSB7CiAgICAgIDAlIHsgb3BhY2l0eTogLjU1OyB9CiAgICAgIDUwJSB7IG9wYWNpdHk6IDE7IH0KICAgICAgMTAwJSB7IG9wYWNpdHk6IC41NTsgfQogICAgfQoKICAgIC5iZyB7IAogICAgICBwb3NpdGlvbjogZml4ZWQ7IAogICAgICBpbnNldDogMDsgCiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWJnKTsgCiAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7IAogICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7IAogICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OwogICAgICBmaWx0ZXI6IGJsdXIodmFyKC0tYmx1cikpOyAKICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjA2KTsgCiAgICAgIHotaW5kZXg6IDA7IAogICAgfQogICAgLmRpbSB7IHBvc2l0aW9uOiBmaXhlZDsgaW5zZXQ6IDA7IGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC4zNSk7IHotaW5kZXg6IDE7IH0KICAgICNmeCB7IHBvc2l0aW9uOiBmaXhlZDsgaW5zZXQ6IDA7IHotaW5kZXg6IDI7IHBvaW50ZXItZXZlbnRzOiBub25lOyB9CiAgICAud3JhcCB7IAogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7IAogICAgICBtaW4taGVpZ2h0OiAxMDAlOyAKICAgICAgZGlzcGxheTogZ3JpZDsgCiAgICAgIHBsYWNlLWl0ZW1zOiBjZW50ZXI7IAogICAgICB6LWluZGV4OiAzOyAKICAgIH0KICAgIC5jb250ZW50IHsgCiAgICAgIGRpc3BsYXk6IGZsZXg7IAogICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyAKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsgCiAgICAgIGdhcDogY2FsYyg4cHggKiB2YXIoLS1zY2FsZSkpOyAKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOyAKICAgICAgcGFkZGluZzogY2FsYygyNHB4ICogdmFyKC0tc2NhbGUpKTsgCiAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7CiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICB9CiAgICAubG9nb3MgeyAKICAgICAgZGlzcGxheTogZmxleDsgCiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOyAKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsgCiAgICAgIGdhcDogY2FsYygxMHB4ICogdmFyKC0tc2NhbGUpKTsgCiAgICAgIG1hcmdpbi10b3A6IGNhbGMoNHB4ICogdmFyKC0tc2NhbGUpKTsgCiAgICB9CiAgICAubG9nb3MgaW1nIHsgCiAgICAgIHdpZHRoOiBjYWxjKDI4cHggKiB2YXIoLS1zY2FsZSkpOyAKICAgICAgaGVpZ2h0OiBjYWxjKDI4cHggKiB2YXIoLS1zY2FsZSkpOyAKICAgICAgb2JqZWN0LWZpdDogY29udGFpbjsgCiAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjJzIGVhc2U7CiAgICB9CiAgICAubG9nb3MgaW1nOmhvdmVyIHsKICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjIpIHJvdGF0ZSgxMGRlZyk7CiAgICB9CiAgICAuc29jaWFsIHsgCiAgICAgIGRpc3BsYXk6IGZsZXg7IAogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgCiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7IAogICAgICBnYXA6IGNhbGMoMTJweCAqIHZhcigtLXNjYWxlKSk7IAogICAgICBtYXJnaW4tdG9wOiBjYWxjKDEwcHggKiB2YXIoLS1zY2FsZSkpOyAKICAgIH0KICAgIC5zb2NpYWwgYSB7IAogICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDsgCiAgICAgIHdpZHRoOiBjYWxjKDMwcHggKiB2YXIoLS1zY2FsZSkpOyAKICAgICAgaGVpZ2h0OiBjYWxjKDMwcHggKiB2YXIoLS1zY2FsZSkpOyAKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsgCiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOyAKICAgICAgYm9yZGVyLXJhZGl1czogOHB4OyAKICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC4xOHMgZWFzZSwgZmlsdGVyIC4xOHMgZWFzZTsgCiAgICB9CiAgICAuc29jaWFsIGE6aG92ZXIgeyAKICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjEyKTsgCiAgICAgIGZpbHRlcjogYnJpZ2h0bmVzcygxLjA4KTsgCiAgICB9CiAgICAuc29jaWFsIGltZyB7IAogICAgICB3aWR0aDogMTAwJTsgCiAgICAgIGhlaWdodDogMTAwJTsgCiAgICAgIG9iamVjdC1maXQ6IGNvbnRhaW47IAogICAgICBkaXNwbGF5OiBibG9jazsgCiAgICB9CiAgICAKICAgIC5wZnAtY29udGFpbmVyIHsKICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgIHBhZGRpbmc6IDRweDsKICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICBiYWNrZ3JvdW5kOiBjb25pYy1ncmFkaWVudCgKICAgICAgICBmcm9tIDBkZWcsIAogICAgICAgICNmZjAwMDAsIAogICAgICAgICNmZjk5MDAsIAogICAgICAgICNmZmZmMDAsIAogICAgICAgICMwMGZmMDAsIAogICAgICAgICMwMGZmZmYsIAogICAgICAgICMwMDAwZmYsIAogICAgICAgICM5OTAwZmYsIAogICAgICAgICNmZjAwZmYsIAogICAgICAgICNmZjAwMDAKICAgICAgKTsKICAgICAgYmFja2dyb3VuZC1zaXplOiA0MDAlIDQwMCU7CiAgICAgIGFuaW1hdGlvbjogYm9yZGVyQW5pbWF0aW9uIDRzIGxpbmVhciBpbmZpbml0ZTsKICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3MgZWFzZTsKICAgIH0KICAgIAogICAgLnBmcC1jb250YWluZXI6aG92ZXIgewogICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpOwogICAgfQogICAgCiAgICBAa2V5ZnJhbWVzIGJvcmRlckFuaW1hdGlvbiB7CiAgICAgIDAlIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogMCUgNTAlOyB9CiAgICAgIDUwJSB7IGJhY2tncm91bmQtcG9zaXRpb246IDEwMCUgNTAlOyB9CiAgICAgIDEwMCUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwJSA1MCU7IH0KICAgIH0KICAgIAogICAgLnBmcCB7CiAgICAgIHdpZHRoOiBjYWxjKDEyMHB4ICogdmFyKC0tc2NhbGUpKTsKICAgICAgaGVpZ2h0OiBjYWxjKDEyMHB4ICogdmFyKC0tc2NhbGUpKTsKICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICBiYWNrZ3JvdW5kLWltYWdlOiB2YXIoLS1wZnApOwogICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwogICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7CiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjM1KTsKICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC4yNXMgZWFzZSwgZmlsdGVyIC4yNXMgZWFzZTsKICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICB6LWluZGV4OiAxOwogICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB9CiAgICAKICAgIC5wZnA6aG92ZXIgewogICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7CiAgICAgIGZpbHRlcjogYnJpZ2h0bmVzcygxLjA1KTsKICAgIH0KICAgIAogICAgLnN0YXR1cy1pbmRpY2F0b3IgewogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIGJvdHRvbTogOHB4OwogICAgICByaWdodDogOHB4OwogICAgICB3aWR0aDogMjRweDsKICAgICAgaGVpZ2h0OiAyNHB4OwogICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgIGJvcmRlcjogM3B4IHNvbGlkICMwMDA7CiAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLW9mZmxpbmUpOwogICAgICBkaXNwbGF5OiBub25lOwogICAgICB6LWluZGV4OiAyOwogICAgfQogICAgCiAgICAubmFtZSB7CiAgICAgIGZvbnQtc2l6ZTogY2FsYygyOHB4ICogdmFyKC0tc2NhbGUpKTsKICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgbGV0dGVyLXNwYWNpbmc6IC4ycHg7CiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIH0KICAgIAogICAgLm5hbWUgLmxhYmVsIHsKICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjZmZmZmZmIDAlLCAjZDlkOWQ5IDUwJSwgI2ZmZmZmZiAxMDAlKTsKICAgICAgYmFja2dyb3VuZC1zaXplOiAyMDAlIDIwMCU7CiAgICAgIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwOiB0ZXh0OwogICAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgIGFuaW1hdGlvbjogbmFtZVBvcCAuNXMgZWFzZS1vdXQgYm90aCwgbmFtZUdyYWRpZW50IDZzIGVhc2UtaW4tb3V0IGluZmluaXRlOwogICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgei1pbmRleDogMTsKICAgIH0KICAgIAogICAgLm5hbWUgLmdsb3cgewogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIGxlZnQ6IDA7CiAgICAgIHRvcDogMDsKICAgICAgY29sb3I6ICNmZmZmZmY7CiAgICAgIG9wYWNpdHk6IC44NTsKICAgICAgdGV4dC1zaGFkb3c6IDAgMCBjYWxjKDNweCAqIHZhcigtLXNjYWxlKSkgcmdiYSgyNTUsMjU1LDI1NSwuNTUpLCAKICAgICAgICAgICAgICAgICAgIDAgMCBjYWxjKDhweCAqIHZhcigtLXNjYWxlKSkgcmdiYSgyNTUsMjU1LDI1NSwuNCksIAogICAgICAgICAgICAgICAgICAgMCAwIGNhbGMoMTZweCAqIHZhcigtLXNjYWxlKSkgcmdiYSgyNTUsMjU1LDI1NSwuMyk7CiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lOwogICAgICB6LWluZGV4OiAwOwogICAgICBhbmltYXRpb246IGdsb3dQdWxzZSA1cyBlYXNlLWluLW91dCBpbmZpbml0ZTsKICAgIH0KICAgIAogICAgQGtleWZyYW1lcyBnbG93UHVsc2UgewogICAgICAwJSB7IG9wYWNpdHk6IC43NSB9CiAgICAgIDUwJSB7IG9wYWNpdHk6IDEgfQogICAgICAxMDAlIHsgb3BhY2l0eTogLjc1IH0KICAgIH0KICAgIAogICAgQGtleWZyYW1lcyBuYW1lUG9wIHsKICAgICAgMCUgeyBvcGFjaXR5OiAwOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoNnB4KSBzY2FsZSguOTgpIH0KICAgICAgMTAwJSB7IG9wYWNpdHk6IDE7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKSBzY2FsZSgxKSB9CiAgICB9CiAgICAKICAgIEBrZXlmcmFtZXMgbmFtZUdyYWRpZW50IHsKICAgICAgMCUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwJSA1MCUgfQogICAgICA1MCUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAxMDAlIDUwJSB9CiAgICAgIDEwMCUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwJSA1MCUgfQogICAgfQogICAgCiAgICAudHlwZXdyaXRlci1jb250YWluZXIgewogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgIGhlaWdodDogMjRweDsKICAgICAgbWFyZ2luOiA4cHggMDsKICAgIH0KICAgIAogICAgLnR5cGV3cml0ZXItdGV4dCB7CiAgICAgIGZvbnQtZmFtaWx5OiAnQ291cmllciBOZXcnLCBtb25vc3BhY2U7CiAgICAgIGZvbnQtc2l6ZTogY2FsYygxNHB4ICogdmFyKC0tc2NhbGUpKTsKICAgICAgY29sb3I6ICNjZmNmZTY7CiAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgICAgIGJvcmRlci1yaWdodDogLjE1ZW0gc29saWQgb3JhbmdlOwogICAgICBhbmltYXRpb246IAogICAgICAgIHR5cGluZyA0cyBzdGVwcygxMywgZW5kKSBpbmZpbml0ZSwKICAgICAgICBibGluay1jYXJldCAuNzVzIHN0ZXAtZW5kIGluZmluaXRlOwogICAgfQogICAgCiAgICAuc3RhdHVzIHsKICAgICAgbWFyZ2luLXRvcDogY2FsYyg2cHggKiB2YXIoLS1zY2FsZSkpOyAKICAgICAgZm9udC1zaXplOiBjYWxjKDEycHggKiB2YXIoLS1zY2FsZSkpOyAKICAgICAgY29sb3I6ICNiZGJkZTA7IAogICAgICB0ZXh0LXNoYWRvdzogMCAwIDJweCByZ2JhKDI1NSwyNTUsMjU1LC40NSksIDAgMCA2cHggcmdiYSgyNTUsMjU1LDI1NSwuMjUpOwogICAgfQogICAgCiAgICBAa2V5ZnJhbWVzIHR5cGluZyB7CiAgICAgIDAlIHsgd2lkdGg6IDAgfQogICAgICA1MCUgeyB3aWR0aDogMTAwJSB9CiAgICAgIDEwMCUgeyB3aWR0aDogMCB9CiAgICB9CiAgICAKICAgIEBrZXlmcmFtZXMgYmxpbmstY2FyZXQgewogICAgICBmcm9tLCB0byB7IGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgfQogICAgICA1MCUgeyBib3JkZXItY29sb3I6IG9yYW5nZTsgfQogICAgfQogICAgCiAgICAuYWN0aXZpdHkgeyAKICAgICAgbWFyZ2luLXRvcDogY2FsYyg4cHggKiB2YXIoLS1zY2FsZSkpOyAKICAgICAgZm9udC1zaXplOiBjYWxjKDEzcHggKiB2YXIoLS1zY2FsZSkpOyAKICAgICAgY29sb3I6ICNiZGJkZTA7IAogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDAuMyk7IAogICAgICBwYWRkaW5nOiA4cHggMTJweDsgCiAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsgCiAgICAgIG1heC13aWR0aDogMzAwcHg7IAogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICB9CiAgICAKICAgIC5hY3Rpdml0eS5zaG93IHsgZGlzcGxheTogYmxvY2s7IH0KICAgIC5hY3Rpdml0eS5zcG90aWZ5IHsKICAgICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCB2YXIoLS1zcG90aWZ5KTsKICAgIH0KICAgIC5hY3Rpdml0eS5wbGF5aW5nIHsKICAgICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCB2YXIoLS1vbmxpbmUpOwogICAgfQogICAgCiAgICBAa2V5ZnJhbWVzIGJsb29tUHVsc2UgewogICAgICAwJSB7IHRleHQtc2hhZG93OiAwIDAgMnB4IHJnYmEoMjU1LDI1NSwyNTUsLjM1KSB9CiAgICAgIDUwJSB7IHRleHQtc2hhZG93OiAwIDAgNHB4IHJnYmEoMjU1LDI1NSwyNTUsLjYpIH0KICAgICAgMTAwJSB7IHRleHQtc2hhZG93OiAwIDAgMnB4IHJnYmEoMjU1LDI1NSwyNTUsLjM1KSB9CiAgICB9CiAgICAKICAgIC50aGVtZS10b2dnbGUgewogICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgIHRvcDogMjBweDsKICAgICAgcmlnaHQ6IDIwcHg7CiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTsKICAgICAgYm9yZGVyOiBub25lOwogICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgIHdpZHRoOiA0MHB4OwogICAgICBoZWlnaHQ6IDQwcHg7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgei1pbmRleDogMTAwMDsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICB9CiAgICAKICAgIC50aGVtZS10b2dnbGU6aG92ZXIgewogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyk7CiAgICAgIHRyYW5zZm9ybTogcm90YXRlKDE1ZGVnKTsKICAgIH0KICAgIAogICAgLnRoZW1lLXRvZ2dsZSBzdmcgewogICAgICB3aWR0aDogMjRweDsKICAgICAgaGVpZ2h0OiAyNHB4OwogICAgICBmaWxsOiB2YXIoLS10ZXh0KTsKICAgIH0KICAgIAogICAgLnZpc2l0b3ItY291bnRlciB7CiAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgY29sb3I6ICNiZGJkZTA7CiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC4zKTsKICAgICAgcGFkZGluZzogNnB4IDEycHg7CiAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgICB9CiAgICAKICAgIC5zZWFzb25hbC1kZWNvcmF0aW9uIHsKICAgICAgcG9zaXRpb246IGZpeGVkOwogICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgei1pbmRleDogMDsKICAgIH0KICAgIAogICAgLmNyYWNrLW92ZXJsYXkgewogICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgIHRvcDogMDsKICAgICAgbGVmdDogMDsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIGhlaWdodDogMTAwJTsKICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgICAgIHotaW5kZXg6IDk5OTg7CiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lOwogICAgICBvcGFjaXR5OiAwOwogICAgfQogICAgCiAgICAuY3JhY2sgewogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KTsKICAgICAgdHJhbnNmb3JtLW9yaWdpbjogY2VudGVyOwogICAgICBib3JkZXItcmFkaXVzOiAycHg7CiAgICB9CiAgICAKICAgIC53YXJuaW5nLW92ZXJsYXkgewogICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgIHRvcDogMDsKICAgICAgbGVmdDogMDsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIGhlaWdodDogMTAwJTsKICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjkpOwogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgei1pbmRleDogMTAwMDA7CiAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgZm9udC1mYW1pbHk6ICdDb3VyaWVyIE5ldycsIG1vbm9zcGFjZTsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBwYWRkaW5nOiAyMHB4OwogICAgfQogICAgCiAgICAud2FybmluZy1vdmVybGF5IGgyIHsKICAgICAgY29sb3I6ICNmZjU1NTU7CiAgICAgIGZvbnQtc2l6ZTogMi41cmVtOwogICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwogICAgICBsZXR0ZXItc3BhY2luZzogM3B4OwogICAgfQogICAgCiAgICAud2FybmluZy1vdmVybGF5IHAgewogICAgICBmb250LXNpemU6IDEuMnJlbTsKICAgICAgbWF4LXdpZHRoOiA2MDBweDsKICAgICAgbGluZS1oZWlnaHQ6IDEuNjsKICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDsKICAgIH0KICAgIAogICAgLndhcm5pbmctb3ZlcmxheSBidXR0b24gewogICAgICBiYWNrZ3JvdW5kOiAjZmY1NTU1OwogICAgICBjb2xvcjogd2hpdGU7CiAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgcGFkZGluZzogMTJweCAzMHB4OwogICAgICBmb250LXNpemU6IDEuMXJlbTsKICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4zczsKICAgIH0KICAgIAogICAgLndhcm5pbmctb3ZlcmxheSBidXR0b246aG92ZXIgewogICAgICBiYWNrZ3JvdW5kOiAjZmYwMDAwOwogICAgfQogICAgCiAgICBAbWVkaWEgKG1heC13aWR0aDogNDIwcHgpIHsgCiAgICAgIC5wZnAgeyB3aWR0aDogY2FsYyg5NnB4ICogdmFyKC0tc2NhbGUpKTsgaGVpZ2h0OiBjYWxjKDk2cHggKiB2YXIoLS1zY2FsZSkpOyB9IAogICAgICAubmFtZSB7IGZvbnQtc2l6ZTogY2FsYygyNHB4ICogdmFyKC0tc2NhbGUpKTsgfSAKICAgIH0KICA8L3N0eWxlPgoKICA8bGluayByZWw9InByZWNvbm5lY3QiIGhyZWY9Imh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20iIGNyb3Nzb3JpZ2luPgogIDxsaW5rIHJlbD0icHJlY29ubmVjdCIgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbSI+CiAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUludGVyOndnaHRANDAwOzYwMDs3MDAmZGlzcGxheT1zd2FwIj4KPC9oZWFkPgoKPGJvZHk+CgogIDxidXR0b24gY2xhc3M9InRoZW1lLXRvZ2dsZSIgaWQ9InRoZW1lVG9nZ2xlIiBhcmlhLWxhYmVsPSJUb2dnbGUgdGhlbWUiPgogICAgPHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgICA8cGF0aCBkPSJNMTIsOWMxLjY1LDAsMywxLjM1LDMsM3MtMS4zNSwzLTMsM3MtMy0xLjM1LTMtM1MxMC4zNSw5LDEyLDkgTTEyLDdjLTIuNzYsMC01LDIuMjQtNSw1czIuMjQsNSw1LDVzNS0yLjI0LDUtNSBTMTQuNzYsNywxMiw3TDEyLDd6IE0yLDEzbDIsMGMwLjU1LDAsMS0wLjQ1LDEtMXMtMC40NS0xLTEtMWwtMiwwYy0wLjU1LDAtMSwwLjQ1LTEsMVMxLjQ1LDEzLDIsMTN6IE0yMCwxM2wyLDBjMC41NSwwLDEtMC40NSwxLTEgcy0wLjQ1LTEtMS0xbC0yLDBjLTAuNTUsMC0xLDAuNDUtMSwxUzE5LjQ1LDEzLDIwLDEzeiBNMTEsMnYyYzAsMC41NSwwLjQ1LDEsMSwxczEtMC40NSwxLTFWMmMwLTAuNTUtMC40NS0xLTEtMVMxMSwxLjQ1LDExLDJ6IE0xMSwyMHYyYzAsMC41NSwwLjQ1LDEsMSwxczEtMC40NSwxLTF2LTJjMC0wLjU1LTAuNDUtMS0xLTFDMTEuNDUsMTksMTEsMTkuNDUsMTEsMjB6IE01Ljk5LDQuNThjLTAuMzktMC4zOS0xLjAzLTAuMzktMS40MSwwIGMtMC4zOSwwLjM5LTAuMzksMS4wMywwLDEuNDFsMS4wNiwxLjA2YzAuMzksMC4zOSwxLjAzLDAuMzksMS40MSwwczAuMzktMS4wMywwLTEuNDFMNS45OSw0LjU4eiBNMTguMzYsMTYuOTUgYy0wLjM5LTAuMzktMS4wMy0wLjM5LTEuNDEsMGMtMC4zOSwwLjM5LTAuMzksMS4wMywwLDEuNDFsMS4wNiwxLjA2YzAuMzksMC4zOSwxLjAzLDAuMzksMS40MSwwYzAuMzktMC4zOSwwLjM5LTEuMDMsMC0xLjQxIEwxOC4zNiwxNi45NXogTTE5LjQyLDUuOTljMC4zOS0wLjM5LDAuMzktMS4wMywwLTEuNDFjLTAuMzktMC4zOS0xLjAzLTAuMzktMS40MSwwbC0xLjA2LDEuMDZjLTAuMzksMC4zOS0wLjM5LDEuMDMsMCwxLjQxIHMxLjAzLDAuMzksMS40MSwwTDE5LjQyLDUuOTl6IE03LjA1LDE4LjM2YzAuMzktMC4zOSwwLjM5LTEuMDMsMC0xLjQxYy0wLjM5LTAuMzktMS4wMy0wLjM5LTEuNDEsMGwtMS4wNiwxLjA2IGMtMC4zOSwwLjM5LTAuMzksMS4wMywwLDEuNDFzMS4wMywwLjM5LDEuNDEsMEw3LjA1LDE4LjM2eiI+PC9wYXRoPgogICAgPC9zdmc+CiAgPC9idXR0b24+CgogIDxhdWRpbyBpZD0iYmdNdXNpYyIgbG9vcCBwcmVsb2FkPSJhdXRvIgogICAgc3JjPSJodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9hdHRhY2htZW50cy8xNDM4NDE2MDUxNjQ0NjYxODUyLzE0NDkyNDIwNjQ5Njg0ODI4MTcvdmlkZW9wbGF5YmFjay5tcDM/ZXg9NjkzZTJmNTkmaXM9NjkzY2RkZDkmaG09MjE2NTUwMWYyMzUyN2ZlZGQyZjIxMWVmMWUwMjU5ZDQyMTBiZmVhOTM1YWI5MjA4YTFhYjBhZDgwMTNhZTM5ZCYiPgogIDwvYXVkaW8+CgogIDxkaXYgaWQ9InN0YXJ0U2NyZWVuIj4KICAgIDxkaXYgY2xhc3M9InN0YXJ0VGV4dCI+TklHR0VSUzwvZGl2PgogIDwvZGl2PgoKICA8ZGl2IGNsYXNzPSJjcmFjay1vdmVybGF5IiBpZD0iY3JhY2tPdmVybGF5Ij48L2Rpdj4KCiAgPGRpdiBjbGFzcz0id2FybmluZy1vdmVybGF5IiBpZD0id2FybmluZ092ZXJsYXkiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICA8aDI+QkFXQUwgWUFOIEJPU1M8L2gyPgogICAgPHA+R2FsaW5nYW4gbW8gbGFuZyBib2khLjwvcD4KICAgIDxidXR0b24gaWQ9ImNsb3NlV2FybmluZyI+VEFOR0EgQUtPIEdFVFMgS088L2J1dHRvbj4KICA8L2Rpdj4KCiAgPGRpdiBjbGFzcz0iYmciPjwvZGl2PgogIDxkaXYgY2xhc3M9ImRpbSI+PC9kaXY+CiAgPGNhbnZhcyBpZD0iZngiPjwvY2FudmFzPgoKICA8bWFpbiBjbGFzcz0id3JhcCI+CiAgICA8c2VjdGlvbiBjbGFzcz0iY29udGVudCIgYXJpYS1sYWJlbD0iUHJvZmlsZSBjYXJkIj4KICAgICAgPGRpdiBjbGFzcz0icGZwLWNvbnRhaW5lciI+CiAgICAgICAgPGRpdiBjbGFzcz0icGZwIiBpZD0icHJvZmlsZVBpY3R1cmUiPjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InN0YXR1cy1pbmRpY2F0b3IiPjwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0ibmFtZSI+PHNwYW4gY2xhc3M9ImxhYmVsIj53b215PC9zcGFuPjxzcGFuIGFyaWEtaGlkZGVuPSJ0cnVlIiBjbGFzcz0iZ2xvdyI+d29teTwvc3Bhbj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0ibG9nb3MiPgogICAgICAgIDxpbWcgc3JjPSJodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9lbW9qaXMvMTA5NTAyNTkzNjU5ODA0ODc2OS53ZWJwP3NpemU9OTYmYW5pbWF0ZWQ9dHJ1ZSIgYWx0PSJsb2dvLTEiPgogICAgICAgIDxpbWcgc3JjPSJodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9lbW9qaXMvMTM2NDc2MTQyNjI0OTM4ODE3My53ZWJwP3NpemU9OTYmYW5pbWF0ZWQ9dHJ1ZSIgYWx0PSJsb2dvLTIiPgogICAgICAgIDxpbWcgc3JjPSJodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9lbW9qaXMvMTQ0ODE4NjE5NzgxMjcwNzQzOC53ZWJwP3NpemU9OTYmYW5pbWF0ZWQ9dHJ1ZSIgYWx0PSJsb2dvLTMiPgogICAgICA8L2Rpdj4KICAgICAgCiAgICAgIDxkaXYgY2xhc3M9InR5cGV3cml0ZXItY29udGFpbmVyIj4KICAgICAgICA8ZGl2IGNsYXNzPSJ0eXBld3JpdGVyLXRleHQiPlBlYWNlIE92ZXIgV2FyPC9kaXY+CiAgICAgIDwvZGl2PgogICAgICAKICAgICAgPGRpdiBjbGFzcz0ic3RhdHVzIj5BbnRpIFJldnNoaXQ8L2Rpdj4KICAgICAgCiAgICAgIDxkaXYgY2xhc3M9InZpc2l0b3ItY291bnRlciI+VmlzaXRvcnM6IDxzcGFuIGlkPSJ2aXNpdG9yQ291bnQiPjA8L3NwYW4+PC9kaXY+CiAgICAgIAogICAgICA8ZGl2IGNsYXNzPSJhY3Rpdml0eSI+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9InNvY2lhbCIgYXJpYS1sYWJlbD0ic29jaWFsIGxpbmtzIj4KICAgICAgICA8YSBocmVmPSJodHRwczovL2Rpc2NvcmRhcHAuY29tL3VzZXJzLzExODQ0NTQ2ODc4NjU0MzgyMTgiIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vb3BlbmVyIG5vcmVmZXJyZXIiIGFyaWEtbGFiZWw9IkRpc2NvcmQiPgogICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vY2RuLnNpbXBsZWljb25zLm9yZy9kaXNjb3JkL2ZmZmZmZiIgYWx0PSJEaXNjb3JkIj4KICAgICAgICA8L2E+CiAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS93b215Lnp4Yy8iIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vb3BlbmVyIG5vcmVmZXJyZXIiIGFyaWEtbGFiZWw9Ikluc3RhZ3JhbSI+CiAgICAgICAgICA8aW1nIHNyYz0iaHR0cHM6Ly9jZG4uc2ltcGxlaWNvbnMub3JnL2luc3RhZ3JhbS9mZmZmZmYiIGFsdD0iSW5zdGFncmFtIj4KICAgICAgICA8L2E+CiAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL3dvbXl6eGMiIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vb3BlbmVyIG5vcmVmZXJyZXIiIGFyaWEtbGFiZWw9IkdpdGh1YiI+CiAgICAgICAgICA8aW1nIHNyYz0iaHR0cHM6Ly9jZG4uc2ltcGxlaWNvbnMub3JnL2dpdGh1Yi9mZmZmZmYiIGFsdD0iR2l0aHViIj4KICAgICAgICA8L2E+CiAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93d3cueW91dHViZS5jb20vQHdvbXl4eXoiIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vb3BlbmVyIG5vcmVmZXJyZXIiIGFyaWEtbGFiZWw9IllvdXR1YmUiPgogICAgICAgICAgPGltZyBzcmM9Imh0dHBzOi8vY2RuLnNpbXBsZWljb25zLm9yZy95b3V0dWJlL2ZmZmZmZiIgYWx0PSJZb3V0dWJlIj4gICAgICAgICAgCiAgICAgICAgPC9hPgogICAgICA8L2Rpdj4KICAgIDwvc2VjdGlvbj4KICA8L21haW4+CgogIDxzY3JpcHQ+CiAgICBjb25zdCB1c2VySWQgPSAnMTE4NDQ1NDY4Nzg2NTQzODIxOCc7IAogICAgY29uc3Qgc3RhdHVzSW5kaWNhdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YXR1cy1pbmRpY2F0b3InKTsKICAgIGNvbnN0IGFjdGl2aXR5RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZpdHknKTsKICAgIGNvbnN0IG5hbWVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYW1lIC5sYWJlbCcpOwogICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Z4Jyk7CiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgIGNvbnN0IFNDQUxFID0gcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZSgnLS1zY2FsZScpKSB8fCAxOwoKICAgIGNvbnN0IGJhY2tncm91bmRJbWFnZXMgPSBbCiAgICAgICdodHRwczovL2kuaW1ndXIuY29tLzNBbGJYbXQuZ2lmJywKICAgICAgJ2h0dHBzOi8vaS5pbWd1ci5jb20vOVZZZHFRWS5naWYnLAogICAgICAnaHR0cHM6Ly9pLmltZ3VyLmNvbS9DYlZqbEF6LmdpZicsCiAgICAgICdodHRwczovL2kuaW1ndXIuY29tL2haRmlLdjYuZ2lmJywKICAgICAgJ2h0dHBzOi8vaS5pbWd1ci5jb20vRkg5SEpIaC5naWYnCiAgICBdOwoKICAgIGZ1bmN0aW9uIHNldEluaXRpYWxQcm9maWxlKCkgewogICAgICBuYW1lRWwudGV4dENvbnRlbnQgPSAid29teSI7CiAgICAgIGRvY3VtZW50LnRpdGxlID0gIkB3b215IjsKICAgICAgCiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1wZnAnLCBgdXJsKCdodHRwczovL2ZpbGUuZ2FyZGVuL2FSSFh6OEVfVGdsSFQ5NWMvcHJpbW8ucG5nJylgKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRSYW5kb21CYWNrZ3JvdW5kKCkgewogICAgICBjb25zdCByYW5kb21CZyA9IGJhY2tncm91bmRJbWFnZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYmFja2dyb3VuZEltYWdlcy5sZW5ndGgpXTsKICAgICAgCiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1iZycsIGB1cmwoJyR7cmFuZG9tQmd9JylgKTsKICAgICAgCiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2N1cnJlbnRCYWNrZ3JvdW5kJywgcmFuZG9tQmcpOwogICAgfQoKICAgIGZ1bmN0aW9uIGluaXRMYW55YXJkKCkgewogICAgICBjb25zdCBzb2NrZXQgPSBuZXcgV2ViU29ja2V0KCd3c3M6Ly9sYW55YXJkLnJlc3Qvc29ja2V0Jyk7CiAgICAgIGxldCBpbnRlcnZhbDsKCiAgICAgIHNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdvcGVuJywgZXZlbnQgPT4gewogICAgICAgIHNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KHsgb3A6IDEgfSkpOwogICAgICAgIAogICAgICAgIHNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgIG9wOiAyLAogICAgICAgICAgZDogewogICAgICAgICAgICBzdWJzY3JpYmVfdG9faWRzOiBbdXNlcklkXQogICAgICAgICAgfQogICAgICAgIH0pKTsKCiAgICAgICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICBzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSh7IG9wOiAxIH0pKTsKICAgICAgICB9LCAzMDAwMCk7CiAgICAgIH0pOwoKICAgICAgc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBldmVudCA9PiB7CiAgICAgICAgY29uc3QgeyB0LCBkIH0gPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpOwoKICAgICAgICBpZiAodCA9PT0gJ0lOSVRfU1RBVEUnIHx8IHQgPT09ICdQUkVTRU5DRV9VUERBVEUnKSB7CiAgICAgICAgICB1cGRhdGVQcm9maWxlKGQpOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICBzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCAoKSA9PiB7CiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7CiAgICAgICAgc2V0VGltZW91dChpbml0TGFueWFyZCwgNTAwMCk7CiAgICAgIH0pOwogICAgICAKICAgICAgc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKGVycm9yKSA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcignTGFueWFyZCBXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpOwogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiB1cGRhdGVQcm9maWxlKGRhdGEpIHsKICAgICAgaWYgKGRhdGEuZGlzY29yZF91c2VyPy51c2VybmFtZSkgewogICAgICAgIGNvbnN0IHVzZXJuYW1lID0gZGF0YS5kaXNjb3JkX3VzZXIudXNlcm5hbWU7CiAgICAgICAgbmFtZUVsLnRleHRDb250ZW50ID0gdXNlcm5hbWU7CiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBgQCR7dXNlcm5hbWV9YDsKICAgICAgfQoKICAgICAgdXBkYXRlQWN0aXZpdHkoZGF0YS5hY3Rpdml0aWVzPy5maWx0ZXIoYWN0aXZpdHkgPT4gYWN0aXZpdHkudHlwZSAhPT0gNCkgfHwgW10pOwogICAgfQoKICAgIGZ1bmN0aW9uIHVwZGF0ZUFjdGl2aXR5KGFjdGl2aXRpZXMpIHsKICAgICAgYWN0aXZpdHlFbC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7CiAgICAgIAogICAgICBpZiAoYWN0aXZpdGllcy5sZW5ndGggPT09IDApIHJldHVybjsKICAgICAgCiAgICAgIGNvbnN0IGFjdGl2aXR5ID0gYWN0aXZpdGllc1swXTsKICAgICAgCiAgICAgIGlmIChhY3Rpdml0eS5uYW1lID09PSAnU3BvdGlmeScgJiYgYWN0aXZpdHkuYXNzZXRzKSB7CiAgICAgICAgY29uc3QgdHJhY2sgPSBhY3Rpdml0eS5kZXRhaWxzIHx8ICdVbmtub3duIFRyYWNrJzsKICAgICAgICBjb25zdCBhcnRpc3QgPSBhY3Rpdml0eS5zdGF0ZSB8fCAnVW5rbm93biBBcnRpc3QnOwogICAgICAgIAogICAgICAgIGFjdGl2aXR5RWwuaW5uZXJIVE1MID0gYAogICAgICAgICAgPGRpdj5MaXN0ZW5pbmcgdG8gPHN0cm9uZz4ke3RyYWNrfTwvc3Ryb25nPjwvZGl2PgogICAgICAgICAgPGRpdj5ieSA8c3Ryb25nPiR7YXJ0aXN0fTwvc3Ryb25nPjwvZGl2PgogICAgICAgIGA7CiAgICAgICAgYWN0aXZpdHlFbC5jbGFzc05hbWUgPSAnYWN0aXZpdHkgc3BvdGlmeSBzaG93JzsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgCiAgICAgIGlmIChhY3Rpdml0eS5uYW1lKSB7CiAgICAgICAgbGV0IHRleHQgPSBgPGRpdj4ke2FjdGl2aXR5Lm5hbWV9PC9kaXY+YDsKICAgICAgICAKICAgICAgICBpZiAoYWN0aXZpdHkuZGV0YWlscykgewogICAgICAgICAgdGV4dCArPSBgPGRpdj4ke2FjdGl2aXR5LmRldGFpbHN9PC9kaXY+YDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYgKGFjdGl2aXR5LnN0YXRlKSB7CiAgICAgICAgICB0ZXh0ICs9IGA8ZGl2PiR7YWN0aXZpdHkuc3RhdGV9PC9kaXY+YDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgYWN0aXZpdHlFbC5pbm5lckhUTUwgPSB0ZXh0OwogICAgICAgIGFjdGl2aXR5RWwuY2xhc3NOYW1lID0gJ2FjdGl2aXR5IHBsYXlpbmcgc2hvdyc7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiByZXNpemUoKSB7CiAgICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOwogICAgICBjYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0OwogICAgfQogICAgcmVzaXplKCk7CiAgICBsZXQgcmVzaXplU2NoZWR1bGVkID0gZmFsc2U7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4gewogICAgICBpZiAoIXJlc2l6ZVNjaGVkdWxlZCkgewogICAgICAgIHJlc2l6ZVNjaGVkdWxlZCA9IHRydWU7CiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsgcmVzaXplKCk7IHJlc2l6ZVNjaGVkdWxlZCA9IGZhbHNlOyB9KTsKICAgICAgfQogICAgfSk7CgogICAgY29uc3Qgc25vdyA9IFtdOwogICAgY29uc3Qgc25vd0NvdW50ID0gMTAwOwogICAgZnVuY3Rpb24gaW5pdFNub3coKSB7CiAgICAgIHNub3cubGVuZ3RoID0gMDsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbm93Q291bnQ7IGkrKykgewogICAgICAgIHNub3cucHVzaCh7CiAgICAgICAgICB4OiBNYXRoLnJhbmRvbSgpICogY2FudmFzLndpZHRoLAogICAgICAgICAgeTogTWF0aC5yYW5kb20oKSAqIGNhbnZhcy5oZWlnaHQsCiAgICAgICAgICByOiBNYXRoLnJhbmRvbSgpICogMS42ICsgMC42LAogICAgICAgICAgdjogTWF0aC5yYW5kb20oKSAqIDAuNSArIDAuMwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgICBpbml0U25vdygpOwoKICAgIGZ1bmN0aW9uIGRyYXdTbm93KCkgewogICAgICBjdHguc2hhZG93Q29sb3IgPSAncmdiYSgyNTUsMjU1LDI1NSwwLjYpJzsKICAgICAgY3R4LnNoYWRvd0JsdXIgPSA2ICogU0NBTEU7CiAgICAgIGZvciAoY29uc3QgcCBvZiBzbm93KSB7CiAgICAgICAgcC55ICs9IHAudjsKICAgICAgICBpZiAocC55IC0gcC5yID4gY2FudmFzLmhlaWdodCkgewogICAgICAgICAgcC55ID0gLXAucjsKICAgICAgICAgIHAueCA9IE1hdGgucmFuZG9tKCkgKiBjYW52YXMud2lkdGg7CiAgICAgICAgfQogICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuODU7CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjZmZmZmZmJzsKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgY3R4LmFyYyhwLngsIHAueSwgcC5yICogU0NBTEUsIDAsIE1hdGguUEkgKiAyKTsKICAgICAgICBjdHguZmlsbCgpOwogICAgICB9CiAgICAgIGN0eC5zaGFkb3dCbHVyID0gMDsKICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMTsKICAgIH0KCiAgICBjb25zdCBtYXhUcmFpbCA9IE1hdGgucm91bmQoMTAwICogU0NBTEUpOwogICAgY29uc3QgcG9vbFNpemUgPSAxMjA7CiAgICBjb25zdCB0cmFpbCA9IG5ldyBBcnJheShwb29sU2l6ZSkuZmlsbCgwKS5tYXAoKCkgPT4gKHsgeDowLHk6MCxyOjAsbGlmZTowLGRlY2F5OjAsdng6MCx2eTowLHNjYWxlOjEgfSkpOwogICAgbGV0IG5leHRJZHggPSAwOwoKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZSkgPT4gewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykgewogICAgICAgIGNvbnN0IHAgPSB0cmFpbFtuZXh0SWR4KysgJSBwb29sU2l6ZV07CiAgICAgICAgcC54ID0gZS5jbGllbnRYOwogICAgICAgIHAueSA9IGUuY2xpZW50WTsKICAgICAgICBwLnIgPSAoTWF0aC5yYW5kb20oKSAqIDEuNCArIDAuNikgKiBTQ0FMRTsKICAgICAgICBwLmxpZmUgPSAxOwogICAgICAgIHAuZGVjYXkgPSBNYXRoLnJhbmRvbSgpICogMC4wMyArIDAuMDI7CiAgICAgICAgcC52eCA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDAuNjsKICAgICAgICBwLnZ5ID0gTWF0aC5yYW5kb20oKSAqIDAuOCArIDAuMzsKICAgICAgICBwLnNjYWxlID0gMTsKICAgICAgfQogICAgfSk7CgogICAgZnVuY3Rpb24gZHJhd1RyYWlsKCkgewogICAgICBjdHguc2hhZG93Q29sb3IgPSAncmdiYSgyNTUsMjU1LDI1NSwwLjgpJzsKICAgICAgY3R4LnNoYWRvd0JsdXIgPSA2ICogU0NBTEU7CiAgICAgIGxldCBhY3RpdmUgPSAwOwogICAgICBmb3IgKGNvbnN0IHAgb2YgdHJhaWwpIHsKICAgICAgICBpZiAocC5saWZlIDw9IDApIGNvbnRpbnVlOwogICAgICAgIGFjdGl2ZSsrOwogICAgICAgIHAueCArPSBwLnZ4OwogICAgICAgIHAueSArPSBwLnZ5OwogICAgICAgIHAudnkgKz0gMC4wMTsKICAgICAgICBwLmxpZmUgLT0gcC5kZWNheTsKICAgICAgICBwLnNjYWxlID0gTWF0aC5tYXgoMCwgcC5saWZlKTsKICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSBwLmxpZmU7CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjZmZmZmZmJzsKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgY3R4LmFyYyhwLngsIHAueSwgcC5yICogcC5zY2FsZSwgMCwgTWF0aC5QSSAqIDIpOwogICAgICAgIGN0eC5maWxsKCk7CiAgICAgICAgaWYgKGFjdGl2ZSA+IG1heFRyYWlsKSBicmVhazsKICAgICAgfQogICAgICBjdHguc2hhZG93Qmx1ciA9IDA7CiAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDE7CiAgICB9CgogICAgZnVuY3Rpb24gbG9vcCgpIHsKICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgICBkcmF3U25vdygpOwogICAgICBkcmF3VHJhaWwoKTsKICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApOwogICAgfQogICAgbG9vcCgpOwoKICAgIGNvbnN0IHRoZW1lVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoZW1lVG9nZ2xlJyk7CiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTsKICAgIAogICAgdGhlbWVUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgIGJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnbGlnaHQtdGhlbWUnKTsKICAgICAgY29uc3QgaXNMaWdodCA9IGJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdsaWdodC10aGVtZScpOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGhlbWUnLCBpc0xpZ2h0ID8gJ2xpZ2h0JyA6ICdkYXJrJyk7CiAgICB9KTsKICAgIAogICAgY29uc3Qgc2F2ZWRUaGVtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0aGVtZScpOwogICAgaWYgKHNhdmVkVGhlbWUgPT09ICdsaWdodCcpIHsKICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdsaWdodC10aGVtZScpOwogICAgfQoKICAgIGZ1bmN0aW9uIHVwZGF0ZVZpc2l0b3JDb3VudGVyKCkgewogICAgICBpZiAodHlwZW9mKFN0b3JhZ2UpICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIGxldCBjb3VudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2aXNpdG9yQ291bnQnKSB8fCAwOwogICAgICAgIGNvdW50ID0gcGFyc2VJbnQoY291bnQpICsgMTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndmlzaXRvckNvdW50JywgY291bnQpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aXNpdG9yQ291bnQnKS50ZXh0Q29udGVudCA9IGNvdW50OwogICAgICB9CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNyZWF0ZUNyYWNrRWZmZWN0KCkgewogICAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyYWNrT3ZlcmxheScpOwogICAgICBvdmVybGF5LmlubmVySFRNTCA9ICcnOwogICAgICBvdmVybGF5LnN0eWxlLm9wYWNpdHkgPSAnMSc7CiAgICAgIAogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE1OyBpKyspIHsKICAgICAgICBjb25zdCBjcmFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGNyYWNrLmNsYXNzTmFtZSA9ICdjcmFjayc7CiAgICAgICAgCiAgICAgICAgY29uc3QgeCA9IE1hdGgucmFuZG9tKCkgKiB3aW5kb3cuaW5uZXJXaWR0aDsKICAgICAgICBjb25zdCB5ID0gTWF0aC5yYW5kb20oKSAqIHdpbmRvdy5pbm5lckhlaWdodDsKICAgICAgICAKICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGgucmFuZG9tKCkgKiAxMDAgKyAyMDsKICAgICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLnJhbmRvbSgpICogMyArIDE7CiAgICAgICAgY29uc3Qgcm90YXRpb24gPSBNYXRoLnJhbmRvbSgpICogMzYwOwogICAgICAgIAogICAgICAgIGNyYWNrLnN0eWxlLmxlZnQgPSBgJHt4fXB4YDsKICAgICAgICBjcmFjay5zdHlsZS50b3AgPSBgJHt5fXB4YDsKICAgICAgICBjcmFjay5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDsKICAgICAgICBjcmFjay5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgOwogICAgICAgIGNyYWNrLnN0eWxlLnRyYW5zZm9ybSA9IGByb3RhdGUoJHtyb3RhdGlvbn1kZWcpYDsKICAgICAgICAKICAgICAgICBvdmVybGF5LmFwcGVuZENoaWxkKGNyYWNrKTsKICAgICAgfQogICAgICAKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgb3ZlcmxheS5zdHlsZS50cmFuc2l0aW9uID0gJ29wYWNpdHkgMXMgZWFzZSc7CiAgICAgICAgb3ZlcmxheS5zdHlsZS5vcGFjaXR5ID0gJzAnOwogICAgICAgIAogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgb3ZlcmxheS5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgIG92ZXJsYXkuc3R5bGUudHJhbnNpdGlvbiA9ICcnOwogICAgICAgIH0sIDEwMDApOwogICAgICB9LCA4MDApOwogICAgfQogICAgCiAgICBjb25zdCBwcm9maWxlUGljID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2ZpbGVQaWN0dXJlJyk7CiAgICBwcm9maWxlUGljLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICBjcmVhdGVDcmFja0VmZmVjdCgpOwogICAgfSk7CgogICAgZnVuY3Rpb24gYWRkU2Vhc29uYWxEZWNvcmF0aW9ucygpIHsKICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICBjb25zdCBtb250aCA9IHRvZGF5LmdldE1vbnRoKCkgKyAxOwogICAgICBjb25zdCBkYXkgPSB0b2RheS5nZXREYXRlKCk7CiAgICAgIAogICAgICBpZiAoKG1vbnRoID09PSAxMiAmJiBkYXkgPj0gMSkgfHwgKG1vbnRoID09PSAxKSB8fCAobW9udGggPT09IDIgJiYgZGF5IDw9IDI4KSkgewogICAgICAgIGNyZWF0ZVNub3dmbGFrZXMoKTsKICAgICAgfQogICAgICBlbHNlIGlmICgobW9udGggPT09IDMpIHx8IChtb250aCA9PT0gNCkgfHwgKG1vbnRoID09PSA1ICYmIGRheSA8PSAzMSkpIHsKICAgICAgICBjcmVhdGVGbG93ZXJzKCk7CiAgICAgIH0KICAgIH0KICAgIAogICAgZnVuY3Rpb24gY3JlYXRlU25vd2ZsYWtlcygpIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzMDsgaSsrKSB7CiAgICAgICAgY29uc3Qgc25vd2ZsYWtlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgc25vd2ZsYWtlLmNsYXNzTmFtZSA9ICdzZWFzb25hbC1kZWNvcmF0aW9uJzsKICAgICAgICBzbm93Zmxha2UuaW5uZXJIVE1MID0gJ+KdhCc7CiAgICAgICAgc25vd2ZsYWtlLnN0eWxlLmxlZnQgPSBNYXRoLnJhbmRvbSgpICogMTAwICsgJ3Z3JzsKICAgICAgICBzbm93Zmxha2Uuc3R5bGUuZm9udFNpemUgPSAoTWF0aC5yYW5kb20oKSAqIDIwICsgMTApICsgJ3B4JzsKICAgICAgICBzbm93Zmxha2Uuc3R5bGUuYW5pbWF0aW9uID0gYGZhbGwgJHtNYXRoLnJhbmRvbSgpICogMTAgKyA1fXMgbGluZWFyIGluZmluaXRlYDsKICAgICAgICBzbm93Zmxha2Uuc3R5bGUuYW5pbWF0aW9uRGVsYXkgPSBNYXRoLnJhbmRvbSgpICogNSArICdzJzsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNub3dmbGFrZSk7CiAgICAgIH0KICAgICAgCiAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBgCiAgICAgICAgQGtleWZyYW1lcyBmYWxsIHsKICAgICAgICAgIHRvIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwMHZoKSByb3RhdGUoMzYwZGVnKTsgfQogICAgICAgIH0KICAgICAgYDsKICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGNyZWF0ZUZsb3dlcnMoKSB7CiAgICAgIGNvbnN0IGZsb3dlcnMgPSBbJ/CfjLgnLCAn8J+MuicsICfwn4y7JywgJ/CfjLwnXTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7CiAgICAgICAgY29uc3QgZmxvd2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgZmxvd2VyLmNsYXNzTmFtZSA9ICdzZWFzb25hbC1kZWNvcmF0aW9uJzsKICAgICAgICBmbG93ZXIudGV4dENvbnRlbnQgPSBmbG93ZXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGZsb3dlcnMubGVuZ3RoKV07CiAgICAgICAgZmxvd2VyLnN0eWxlLmxlZnQgPSBNYXRoLnJhbmRvbSgpICogMTAwICsgJ3Z3JzsKICAgICAgICBmbG93ZXIuc3R5bGUuZm9udFNpemUgPSAoTWF0aC5yYW5kb20oKSAqIDI1ICsgMTUpICsgJ3B4JzsKICAgICAgICBmbG93ZXIuc3R5bGUuYW5pbWF0aW9uID0gYGZsb2F0ICR7TWF0aC5yYW5kb20oKSAqIDE1ICsgMTB9cyBsaW5lYXIgaW5maW5pdGVgOwogICAgICAgIGZsb3dlci5zdHlsZS5hbmltYXRpb25EZWxheSA9IE1hdGgucmFuZG9tKCkgKiA1ICsgJ3MnOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZmxvd2VyKTsKICAgICAgfQogICAgICAKICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGAKICAgICAgICBAa2V5ZnJhbWVzIGZsb2F0IHsKICAgICAgICAgIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwMHZoKSB0cmFuc2xhdGVYKDApOyBvcGFjaXR5OiAwOyB9CiAgICAgICAgICAxMCUgeyBvcGFjaXR5OiAxOyB9CiAgICAgICAgICA5MCUgeyBvcGFjaXR5OiAxOyB9CiAgICAgICAgICAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMDBweCkgdHJhbnNsYXRlWCgke01hdGgucmFuZG9tKCkgPiAwLjUgPyAnLScgOiAnJ30ke01hdGgucmFuZG9tKCkgKiAxMDB9cHgpOyBvcGFjaXR5OiAwOyB9CiAgICAgICAgfQogICAgICBgOwogICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTsKICAgIH0KCiAgICBjb25zdCB3YXJuaW5nT3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXJuaW5nT3ZlcmxheScpOwogICAgY29uc3QgY2xvc2VXYXJuaW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlV2FybmluZycpOwogICAgCiAgICBjbG9zZVdhcm5pbmcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgIHdhcm5pbmdPdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICB9KTsKICAgIAogICAgbGV0IGRldnRvb2xzID0gewogICAgICBvcGVuOiBmYWxzZSwKICAgICAgb3JpZW50YXRpb246IG51bGwKICAgIH07CiAgICAKICAgIGNvbnN0IHRocmVzaG9sZCA9IDE2MDsKICAgIAogICAgc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICBpZiAod2luZG93Lm91dGVySGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0ID4gdGhyZXNob2xkIHx8IAogICAgICAgICAgd2luZG93Lm91dGVyV2lkdGggLSB3aW5kb3cuaW5uZXJXaWR0aCA+IHRocmVzaG9sZCkgewogICAgICAgIGlmICghZGV2dG9vbHMub3BlbikgewogICAgICAgICAgZGV2dG9vbHMub3BlbiA9IHRydWU7CiAgICAgICAgICBzaG93V2FybmluZygpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBkZXZ0b29scy5vcGVuID0gZmFsc2U7CiAgICAgIH0KICAgIH0sIDUwMCk7CiAgICAKICAgIGZ1bmN0aW9uIHNob3dXYXJuaW5nKCkgewogICAgICB3YXJuaW5nT3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgICBjcmVhdGVDcmFja0VmZmVjdCgpOwogICAgfQogICAgCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZSkgewogICAgICBpZiAoZS5jdHJsS2V5ICYmIGUua2V5ID09PSAndScpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICBzaG93V2FybmluZygpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICAKICAgICAgaWYgKGUuY3RybEtleSAmJiBlLnNoaWZ0S2V5ICYmIGUua2V5ID09PSAnSScpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICBzaG93V2FybmluZygpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICAKICAgICAgaWYgKGUua2V5ID09PSAnRjEyJykgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgIHNob3dXYXJuaW5nKCk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIAogICAgICBpZiAoZS5jdHJsS2V5ICYmIGUua2V5ID09PSAncycpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICBzaG93V2FybmluZygpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICAKICAgICAgaWYgKGUuY3RybEtleSAmJiBlLnNoaWZ0S2V5ICYmIGUua2V5ID09PSAnQycpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICBzaG93V2FybmluZygpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICAKICAgICAgaWYgKGUuY3RybEtleSAmJiBlLnNoaWZ0S2V5ICYmIGUua2V5ID09PSAnSicpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICBzaG93V2FybmluZygpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICAKICAgICAgaWYgKGUuY3RybEtleSAmJiBlLnNoaWZ0S2V5ICYmIGUua2V5ID09PSAnSycpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICBzaG93V2FybmluZygpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwgdHJ1ZSk7CiAgICAKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgZnVuY3Rpb24oZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIHNob3dXYXJuaW5nKCk7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sIHRydWUpOwoKICAgIHNldEludGVydmFsKCgpID0+IHsKICAgICAgc2V0UmFuZG9tQmFja2dyb3VuZCgpOwogICAgfSwgMzAwMDAwKTsKCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHsKICAgICAgc2V0SW5pdGlhbFByb2ZpbGUoKTsKICAgICAgaW5pdExhbnlhcmQoKTsKICAgICAgdXBkYXRlVmlzaXRvckNvdW50ZXIoKTsKICAgICAgYWRkU2Vhc29uYWxEZWNvcmF0aW9ucygpOwogICAgICAKICAgICAgc2V0UmFuZG9tQmFja2dyb3VuZCgpOwogICAgfSk7CgogICAgY29uc3Qgc3RhcnRTY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3RhcnRTY3JlZW4iKTsKICAgIGNvbnN0IGJnTXVzaWMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYmdNdXNpYyIpOwoKICAgIHN0YXJ0U2NyZWVuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgICBzdGFydFNjcmVlbi5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKTsKICAgICAgc2V0VGltZW91dCgoKSA9PiBzdGFydFNjcmVlbi5yZW1vdmUoKSwgNzAwKTsKCiAgICAgIGJnTXVzaWMudm9sdW1lID0gMC43NTsKICAgICAgYmdNdXNpYy5wbGF5KCkuY2F0Y2goKCkgPT4ge30pOwogICAgfSk7CiAgPC9zY3JpcHQ+Cgo8L2JvZHk+CjwvaHRtbD4="))));</script>
